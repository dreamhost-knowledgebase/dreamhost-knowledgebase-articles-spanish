<div class="auto-toc">&nbsp;</div>
<h2>Generalidades</h2>
<div class="solvvy-solution">
<p>Después de haber&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/215089118-Generalidades-de-el-proceso-de-agregar-un-certificado-SSL" target="_self">agregado un ceritficado SSL a tu dominio</a>&nbsp;DreamHost redirige automáticamente la URL que usan los visitantes para ver tu sitio de <span class="text-object">HTTP</span> a <span class="text-object">HTTPS</span>. La <span class="text-object">S</span> asegura que tu conexión esté encriptada. Por ejemplo:</p>
<ul>
<li><strong>https</strong>://example.com</li>
</ul>
<p>No hay nada de tu parte que debas actualizar para obligar a tu sitio a usar la URL segura. Sin embargo, en algunos casos especiales, puede ser necesario que crees tu propio archivo de configuración personalizado para forzar la redirección de <span class="text-object">HTTP</span> a <span class="text-object">HTTPS</span>.</p>
<div class="alert-warning">
<p><strong>Agregar código personalizado solo es necesario si tu sitio web requiere un código específico para forzar el redireccionamiento</strong>. Si es así, primero deberás desactivar la redirección automática en tu panel.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/360027022831-Deshabilitar-el-redireccionamiento-autom%C3%A1tico-a-HTTPS" target="_self">Deshabilitar la redirección automática a HTTPS</a></li>
</ul>
<p>Una vez deshabilitado, puedes continuar agregando tu archivo <span class="text-object">.htaccess</span> personalizado.</p>
</div>
<p>Esta página enumera ejemplos de cómo hacer esto dependiendo de cómo esté alojado tu sitio. Revisa cualquiera de los siguientes artículos para obtener instrucciones sobre cómo crear/editar un archivo <span class="text-object">.htaccess</span> en tu servidor.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/115000098272-Crear-y-editar-un-archivo-v%C3%ADa-FTP" target="_self">Crear y editar un archivo a través de FTP</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/115006413028-Crear-y-editar-un-archivo-via-SSH" target="_self">Crear y editar un archivo a través de SSH</a></li>
</ul>
</div>
<h2>¿Dónde debería ser creado el archivo .htaccess?</h2>
<div class="solvvy-solution">
<p>El archivo <span class="text-object">.htaccess</span> debería estar ubicado en el <a href="https://help.dreamhost.com/hc/es/articles/360001219231--D%C3%B3nde-est%C3%A1-el-directorio-home-#el-directorio-de-sitio-web" target="_self">directorio primario del sitio web</a>. Cambia <span class="code">username</span> a tu <a href="https://help.dreamhost.com/hc/es/articles/216385837-C%C3%B3mo-crear-un-usuario-con-acceso-Shell-SSH-" target="_self">usuario Shell</a> y <strong>example.com</strong> a tu sitio website. Por ejemplo:</p>
<div class="preboxcontainer">
<pre class="prebox">/home/<span class="code-highlight">username</span>/<span class="code-highlight">example.com</span></pre>
</div>
<p>También puedes confirmar el directorio web del sitio en el panel.</p>
<ol>
<li>Navega hasta la página <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=domain.manage&amp;" target="_blank" rel="noopener noreferrer">Administrar Dominios</a>.</li>
<li>Da clic en el enlace <span class="text-link">Editar</span> a la derecha de tu dominio debajo de la columna <span class="text-object">Alojamiento Web</span>.<br />
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2x/es/es-panel-manage-domains-usersfilespaths.png" /></dd>
</dl>
</li>
<li>Ahí verás la directorio web.</li>
</ol>
<div class="notebox-important">
<p>Recuerda que tu cliente FTP debe estar configurado para mostrar los archivos escondidos. Si no, no verás el archivo <span class="text-object">.htaccess</span>. Mira el siguiente artículo para saber cómo ver los archivos escondidos:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/215613037-Como-ver-archivos-ocultos-en-un-cliente-FTP" target="_self">Como ver archivos ocultos en un cliente FTP</a></li>
</ul>
</div>
</div>
<h2>¿Qué cambiar en los siguientes ejemplos?</h2>
<div class="solvvy-solution">
<p>Los siguientes ejemplos pueden ser ingresados en tu archivo <span class="text-object">.htaccess</span> exactamente como se muestra.</p>
<p>Solo si el ejemplo contiene una URL en negrita, tu debes cambiarla por tu actual URL.<br />Por ejemplo, si tu ves el dominio <strong>example.com</strong>, cambialo por el dominio de tu propiedad.</p>
</div>
<h2>Forzar un dominio para que sirva de forma segura usando HTTPS (para cualquier sitio)</h2>
<div class="solvvy-solution">
<p>Lo que vas a ver a continuación, fuerza a cualquier requerimiento <span class="text-object">http</span> a ser reescrito usando <span class="text-object">https</span>. Por ejemplo, el siguiente código fuerza el requerimiento <strong>http://example.com</strong> a cargar <strong>https://example.com</strong>. Esto también fuerza a los recursos vinculados directamente (imágenes, css, etc.) a usar <span class="text-object">https</span>:</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond&nbsp;%{HTTPS}&nbsp;!=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]
Header always set Content-Security-Policy "upgrade-insecure-requests;"</pre>
</div>
<p>Si esto no te funciona, primero revisa las terminaciones de la línea. Copiar/pegar desde tu buscador web a un editor de texto puede no funcionar bien, entonces después de pegar dentro de tu editor de texto tu deberás eliminar cada salto de línea y agregarla de vuelta (salto de línea = tecla de retorno).</p>
</div>
<div id="forzar-https-con-wordpress" class="section-link">&nbsp;</div>
<h2>Forzar HTTPS con WordPress</h2>
<div class="solvvy-solution">
<div class="notebox-important">
<p>Si tu archivo <span class="text-object">.htaccess</span> ya contiene algunos&nbsp;<a href="https://codex.wordpress.org/htaccess" target="_self">códigos agregados por defecto</a>, ingresa lo siguiente arriba o abajo de ese código. Nunca ingreses código dentro de las etiquetas de comentario que empiezan y terminan con:</p>
<dl>
<dd># BEGIN WordPress<br /># END WordPress</dd>
</dl>
</div>
<p>Es posible para un visitante ingresar directamente a una URL <span class="text-object">HTTP</span> en tu sitio WordPress, aún cuando el certificado SSL está activo. Para forzar cualquier requerimiento <span class="text-object">HTTP</span> a redireccionar a <span class="text-object">HTTPS</span>, tu puedes agregar código a tu archivo <span class="text-object">.htaccess</span> de WordPress. Hay dos opciones de código abajo para que los uses.&nbsp;El primero deberá funcionar como se muestra, pero si no, intenta la opción dos en vez.</p>
<h3><span style="font-weight: 400;">Opción&nbsp;</span>#1</h3>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond&nbsp;%{HTTPS}&nbsp;!=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]
Header always set Content-Security-Policy "upgrade-insecure-requests;"</pre>
</div>
<h3>Ejemplo completo incluido el código por defecto de WordPress</h3>
<p>Abajo es como se verá tu archivo de <span class="text-object">.htaccess</span> con con el nuevo código <span class="text-object">HTTPS</span> y el código de WordPress ya existente.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond&nbsp;%{HTTPS}&nbsp;!=on
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]
Header always set Content-Security-Policy "upgrade-insecure-requests;"

# BEGIN WordPress
# The directives (lines) between `BEGIN WordPress` and `END WordPress` are
# dynamically generated, and should only be modified via WordPress filters.
# Any changes to the directives between these markers will be overwritten.
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress</pre>
</div>
<h3>Option #2</h3>
<p>En este ejemplo, asegurate de cambiar <strong>example.com</strong> a tu dominio.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On 
RewriteCond %{SERVER_PORT} 80 
RewriteRule ^(.*)$ https://<span class="code-highlight">www.example.com</span>/$1 [R=301,L,NE]
Header always set Content-Security-Policy "upgrade-insecure-requests;"</pre>
</div>
<h3>Ejemplo completo incluido el código por defecto de WordPress</h3>
<p>Abajo es como se verá tu archivo de <span class="text-object">.htaccess</span> con con el nuevo código <span class="text-object">HTTPS</span> y el código de WordPress ya existente.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On 
RewriteCond %{SERVER_PORT} 80 
RewriteRule ^(.*)$ https://<span class="code-highlight">www.example.com</span>/$1 [R=301,L,NE]
Header always set Content-Security-Policy "upgrade-insecure-requests;"

# BEGIN WordPress
# The directives (lines) between `BEGIN WordPress` and `END WordPress` are
# dynamically generated, and should only be modified via WordPress filters.
# Any changes to the directives between these markers will be overwritten.
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]
&lt;/IfModule&gt;
# END WordPress</pre>
</div>
</div>
<div id="forzar-https-con-dreampress" class="section-link">&nbsp;</div>
<h2>Forzar HTTPS con DreamPress</h2>
<div class="solvvy-solution">
<p>Es posible para un visitante ingresar directamente con una URL <span class="text-object">HTTP</span> a tu sitio DreamPress. Para forzar cualquier requerimiento <span class="text-object">HTTP</span> a redireccionar a <span class="text-object">HTTPS</span>, agrega lo siguiente a tu archivo <span class="text-object">.htaccess</span> a tu WordPress.</p>
<div class="preboxcontainer">
<pre class="prebox">RewriteEngine On
RewriteCond %{HTTP:X-Forwarded-Proto} !https
RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301,NE]
Header always set Content-Security-Policy "upgrade-insecure-requests;"/pre&gt;</pre>
</div>
</div>
<h2>Solución de problemas</h2>
<div class="solvvy-solution">
<h3>Cloudflare</h3>
<p>Si tienes habilitado <a href="https://help.dreamhost.com/hc/es/articles/215873088-Generalidades-de-Cloudflare">Cloudflare</a> en el panel de DreamHost, tu sitio debe usar el subdominio “www”. Asegúrate que tu archivo <span class="text-object">.htaccess</span> no tiene ningún redireccionamiento a la versión non-www de tu URL. Si lo hace y estas usando Cloudflare, podrás experimentar el error “Muchas redirecciones” o 'Too many redirects' en tu buscador.</p>
<h3>WordPress</h3>
<p>Esto también puede ser un inconveniente con WordPress pues este requiere URLs en la base de datos para usar o no “www” para operar correctamente. Da click en el siguiente artículo para ver más detalles.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/215457387#cuando-eliminas-www-rompe-wordpress" target="_self">Eliminar www rompe WordPress</a></li>
</ul>
<h3>Error de infinitas redirecciones</h3>
<p>Da clic en el siguiente artículo si ves que tu sitio redirecciona en círculos después de hacer esos cambios.</p>
<ul class="article-list">
<li><a href="https://help.dreamhost.com/hc/es/articles/115000294332-Error-de-WordPress-too-many-redirects-" target="_self">Error “too many redirects” en WordPress</a></li>
</ul>
</div>
<h2>Resolver advertencias de contenido mixto</h2>
<div class="solvvy-solution">
<p>Incluso cuando tu sitio está redirigiendo correctamente a la URL segura, es posible que el navegador siga emitiendo una advertencia que indica que algunos recursos, como los enlaces, apuntan a la versión no segura. Puedes agregar código adicional a tu archivo <span class="text-object">.htaccess</span> para resolver esas advertencias. Mira el siguiente artículo para más detalles.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/215364618--Por-qu%C3%A9-mi-navegador-dice-que-mi-sitio-es-inseguro-#Política_de_seguridad_de_contenido" target="_self">Resolver la advertencia agregando código a tu archivo .htaccess</a></li>
</ul>
</div>
<h2>Ver también</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216456227-Generalidades-de-htaccess" target="_self">Generalidades de .htaccess</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/217738987--Qu%C3%A9-puedo-hacer-con-un-archivo-htaccess-" target="_self">¿Que puedo hacer con un archivo .htaccess?</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215089118-Generalidades-de-el-proceso-de-agregar-un-certificado-SSL" target="_self">Generalidades de el proceso de agregar un certificado SSL</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216456087-Creando-redirecciones-con-Nginx" target="_self">Forzar tu sitio Nginx a cargar de una forma segura</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/218428687--C%C3%B3mo-uso-un-certificado-SSL-con-WordPress-" target="_self">¿Cómo usar un certificado SSL con WordPress?</a></li>
</ul>
</div>
