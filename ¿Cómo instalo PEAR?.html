<h2>Generalidades</h2>
<div class="solvvy-solution">
<p>El Repositorio de Aplicaciones y Extensiones PHP, o "PEAR", es un repositorio de código PHP reutilizable que puede agregar a tu sitio web para habilitar fácilmente ciertas funciones como SMTP Mail.</p>
<p>Se pueden descargar varios paquetes desde el repositorio PEAR, en:</p>
<ul>
<li><a href="http://pear.php.net/packages.php">http://pear.php.net/packages.php</a></li>
</ul>
<p>La siguiente información te guía a través de lo siguiente:</p>
<ul>
<li>Cómo configurar tu entorno DreamHost para ejecutar PEAR.</li>
<li>Cómo descargar e instalar los paquetes.</li>
</ul>
</div>
<h2>PEAR MAIL comparado con PHPMailer</h2>
<div class="solvvy-solution">
<p>Ambos PEAR MAIL y <a href="https://help.dreamhost.com/hc/es/articles/215842658-Generalidades-de-PHPMailer">PHPMailer</a> te permiten enviar correos electrónicos utilizando SMTP. Pero hay algunas razones por las que PHPMailer puede ser una mejor opción. Por ejemplo:</p>
<ul>
<li>El PEAR MAIL realiza un ciclo de conexión de socket para cada mensaje. Esto podría hacer que los servidores de DreamHost capturen la conexión como un intento de fuerza bruta.</li>
<li>PHPMailer abre un socket solo una vez. El socket se mantiene abierto mientras procesa los mensajes.</li>
<li>PHPMailer está muy bien documentado con muchos ejemplos en línea y páginas de ayuda.</li>
<li>PHPMailer se integra bien con los servidores SMTP de Google.</li>
</ul>
<p>Por estas razones, <a href="https://help.dreamhost.com/hc/es/articles/215842658-Generalidades-de-PHPMailer">PHPMailer</a> vale la pena echarle un vistazo como una alternativa PEAR MAIL.</p>
</div>
<h2><span id="Instalar_PEAR_manualmente">Instalar PEAR manualmente</span></h2>
<div class="solvvy-solution">
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>PEAR no está instalado de manera predeterminada en los servidores DreamHost. Si necesitas algún paquete PEAR para operar en su sitio, debe instalarse manualmente siguiendo estos pasos.</p>
</div>
</div>
<ol>
<li>Asegúrate de que el usuario asignado a tu dominio sea un usuario SHELL. Visita el siguiente artículo que explica cómo configurar tu usuario de SHELL:
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216385837-C%C3%B3mo-crear-un-usuario-con-acceso-Shell-SSH-">Habilitar acceso Shell</a></li>
</ul>
</li>
<li>Una vez que el usuario sea SHELL, inicia sesión en el servidor web a través de SSH. Visita el artículo de SSH para obtener instrucciones sobre cómo iniciar sesión en tu servidor según el sistema operativo que estés utilizando:
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH">Generalidades sobre SSH</a></li>
</ul>
</li>
<li>Una vez que hayas iniciado sesión en tu servidor, asegúrate de estar en tu directorio de usuarios. Ejecute los siguientes comandos en tu terminal SHELL:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~</span>
<span class="server">[server]$ </span><span class="command">pwd</span> <br /><span class="cmdoutput">/home/username</span></pre>
</div>
<ul>
<li>El usuario es llamado <span class="text-object">username</span>.</li>
<li>En este ejemplo, puedes ver que está en el directorio de usuarios porque la ruta completa es <span class="text-object">/home/username</span>.</li>
</ul>
</li>
<li>Haz un directorio temporal. Esto se usará en los siguientes pasos al instalar.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">mkdir -p pear/tmp/pear/install</span></pre>
</div>
</li>
<li>Ejecuta el siguiente comando <span class="code"><a href="https://help.dreamhost.com/hc/es/articles/217213327-Wget">wget</a></span> para descargar el archivo <span class="text-object">go-pear.phar</span> en tu directorio de usuarios:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wget https://pear.php.net/go-pear.phar</span></pre>
</div>
</li>
<li>Ejecuta el archivo ingresando este comando en el mismo directorio:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">/usr/local/php72/bin/php go-pear.phar</span></pre>
</div>
</li>
<li>Durante el proceso de instalación, proporciona las siguientes respuestas en las indicaciones:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">/usr/local/php72/bin/php go-pear.phar</span>
Below is a suggested file layout for your new PEAR installation. To
change individual locations, type the number in front of the
directory. Type 'all' to change all of them or simply press Enter to
accept these locations.

 1. Installation base ($prefix)                   : /home/username/pear
 2. Temporary directory for processing            : /tmp/pear/install
 3. Temporary directory for downloads             : /tmp/pear/install
 4. Binaries directory                            : /home/username/pear/bin
 5. PHP code directory ($php_dir)                 : /home/username/pear/share/pear
 6. Documentation directory                       : /home/username/pear/docs
 7. Data directory                                : /home/username/pear/data
 8. User-modifiable configuration files directory : /home/username/pear/cfg
 9. Public Web Files directory                    : /home/username/pear/www
10. Tests directory                               : /home/username/pear/tests
11. Name of configuration file                    : /home/username/.pearrc

1-11, 'all' or Enter to continue:
</pre>
</div>
</li>
<li>Debes cambiar la ubicación de los directorios tmp. Escribe <strong>2</strong>&nbsp;y haz clic en <span class="code">Enter</span>.
<div class="preboxcontainer">
<pre class="prebox">(Use $prefix as a shortcut for '/home/username/pear', etc.)
Temporary directory for processing [/tmp/pear/install] : <span class="code-highlight">/home/username/pear/tmp/pear/install</span></pre>
</div>
Cambia el <span class="text-object">username</span> a tu nombre de usuario real de Shell en el comando anterior.</li>
<li>Haz clic en <span class="code">Enter</span> para guardar y continuar.</li>
<li>La lista aparece de nuevo. Este tipo, escribe <strong>3</strong> y haz clic en <span class="code">Enter</span>.
<div class="preboxcontainer">
<pre class="prebox">(Use $prefix as a shortcut for '/home/username/pear', etc.)
Temporary directory for downloads [/tmp/pear/install] : <span class="code-highlight">/home/username/pear/tmp/pear/install</span></pre>
</div>
Cambia el <span class="text-object">username</span> a tu nombre de usuario real de Shell en el comando anterior.</li>
<li>Haz clic en <span class="code">Enter</span> para guardar y continuar.</li>
<li>Haga clic en <span class="code">Enter</span> nuevamente para continuar.
<div class="preboxcontainer">
<pre class="prebox">The 'pear' command is now at your service at /home/username/pear/bin/pear

** The 'pear' command is not currently in your PATH, so you need to
** use '/home/username/pear/bin/pear' until you have added
** '/home/username/pear/bin' to your PATH environment variable.

Run it without parameters to see the available actions, try 'pear list'
to see what packages are installed, or 'pear help' for help.

For more information about PEAR, see:

  http://pear.php.net/faq.php
  http://pear.php.net/manual/

Thanks for using go-pear!</pre>
</div>
<dl>
<dd><em>La ruta de <span class="code">include_path</span> en los siguientes pasos.</em></dd>
</dl>
</li>
<li>Visita el artículo <a href="https://help.dreamhost.com/hc/es/articles/115006413028-Crear-y-editar-un-archivo-via-SSH">creando y editando archivos por medio de SSH</a> para obtener instrucciones sobre cómo editar tu <span class="text-object">.bash_profile</span> existente. Verás estas líneas ya en ese archivo:
<div class="preboxcontainer">
<pre class="prebox"><span class="cmdoutput"># ~/.bash_profile: executed by bash(1) for login shells. <br /> <br />umask 002 <br />PS1='[\h]$ '</span></pre>
</div>
</li>
<li>En la parte inferior, ingresa estas dos líneas:
<div class="preboxcontainer">
<pre class="prebox"><span class="cmdoutput">export PHP_PEAR_PHP_BIN=/usr/local/php72/bin/php
export PATH=${HOME}/pear/bin:/usr/local/php72/bin:${PATH}</span></pre>
</div>
</li>
<li>Guarda y cierra el archivo y regrese a tu shell.</li>
<li><span class="x x-first x-last">Ejecuta el siguiente comando para permitir que tu sesión actual de Shell use PEAR</span>:<br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
</ol>
<p>Ahora has instalado PEAR, pero para que tu entorno sepa dónde encontrar esta instalación, debes configurar <span class="code">include_path</span> dentro de tu archivo phprc.</p>
</div>
<h2><span id="Establecer_el_include_path_en_su_archivo_phprc">Establecer el include_path en su archivo phprc</span></h2>
<div class="solvvy-solution">
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Si no configuras este include_path correctamente, es posible que tu instalación no funcione según lo previsto.</p>
</div>
</div>
<ol>
<li>Actualiza tu archivo phprc para permitir que PHP sepa dónde buscar la instalación de PEAR. Visita los siguientes artículos para obtener instrucciones sobre cómo crear un archivo phprc.
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/214200668--C%C3%B3mo-creo-un-archivo-phprc-a-trav%C3%A9s-de-SSH-">¿Cómo creo un archivo phprc por medio de SSH?</a></li>
</ul>
Si el archivo ya existe, consulta el siguiente artículo para obtener instrucciones sobre cómo actualizarlo:
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/115006413028-Crear-y-editar-un-archivo-via-SSH">Creando y editando un archivo por medio de SSH</a></li>
</ul>
</li>
<li>Actualiza el archivo phprc con el siguiente comando:
<div class="preboxcontainer">
<pre class="prebox">include_path = ".:/home/username/pear/share/pear"</pre>
</div>
<ul>
<li>Cambia <span class="text-object">username</span> a tu nombre de usuario real de Shell en el que se encuentra el dominio.</li>
</ul>
</li>
<li>Vuelve a tu directorio de usuarios.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~</span></pre>
</div>
</li>
<li>Una vez allí, ejecuta <span class="code">pear list</span> para ver si obtiene una respuesta:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pear list</span>

Installed packages, channel pear.php.net:
Package          Version State
Archive_Tar      1.3.12  stable
Console_Getopt   1.3.1   stable
PEAR             1.9.5   stable
Structures_Graph 1.0.4   stable
XML_Util         1.2.3   stable
</pre>
</div>
</li>
</ol>
<p>Como recibes una respuesta, puedes ver que PEAR ahora está funcionando.</p>
</div>
<h2><span id="Cambiar_el_directorio_de_caché_/tmp">Cambiar el directorio de caché /tmp</span></h2>
<div class="solvvy-solution">
<p>Cuando instalaste PEAR arriba, configuraste manualmente la ubicación de los directorios tmp. También debes actualizar la ubicación del directorio de caché a esta ubicación temporal.</p>
<p>Ejecuta lo siguiente para ver los directorios actuales <span class="text-object">/tmp</span>:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pear config-show | grep cache_dir</span>
<span class="cmdoutput">PEAR Installer cache directory cache_dir        /tmp/pear/cache</span>
</pre>
</div>
<p>Ejecuta lo siguiente para actualizar el directorio <span class="text-object">tmp</span> de caché. Cambie <span class="text-object">username</span> al usuario de shell en el que estás ejecutando el comando actualmente.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pear config-set cache_dir /home/<span class="code-highlight">username</span>/pear/tmp/</span>
<span class="cmdoutput">config-set succeeded</span>
</pre>
</div>
</div>
<h2>Instalar paquetes</h2>
<div class="solvvy-solution">
<p>Ahora puedes instalar cualquier paquete que desees con el comando 'pear'. Por ejemplo, ejecuta lo siguiente para instalar el paquete de correo:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pear install --alldeps Mail</span></pre>
</div>
<ul>
<li>El indicador <span class="code">-onlyreqdeps</span> indica al instalador que instale solo las dependencias requeridas.</li>
<li>Visita <a href="http://pear.php.net/packages.php" target="_blank" rel="noopener">http://pear.php.net/packages.php</a> para obtener una lista de los paquetes disponibles</li>
</ul>
<p>Si ves algún error al intentar la instalación, consulta el siguiente artículo para ver las posibles soluciones:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/214395118-Soluci%C3%B3n-de-problemas-de-errores-PEAR">Solución de problemas de errores con PEAR</a></li>
</ul>
<h2><span id="Confirming_your_PEAR_environment_settings">Confirmación de la configuración del entorno PEAR</span></h2>
<div class="solvvy-solution">
<p>Para ver si tu entorno está configurado correctamente, ejecuta los siguientes comandos en tu directorio de usuarios:</p>
<h3>Para determinar qué comando PHP (local o compartido) se utilizará:</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which php</span></pre>
</div>
<h3>Para determinar qué versión de PHP se está utilizando:</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">php -v</span></pre>
</div>
<h3>Para determinar qué comando PEAR (local o compartido) se utilizará:</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which pear</span></pre>
</div>
<h3>Para determinar qué versión de PEAR se está utilizando:</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pear -V</span></pre>
</div>
<h3>Usa este comando para mostrar todas las configuraciones de PEAR: tus datos de configuración local deben mostrar:</h3>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pear config-show</span></pre>
</div>
</div>
<h2>Solución de problemas</h2>
<div class="solvvy-solution">
<p>Consulta el siguiente artículo para ver ejemplos de solución de problemas:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/214395118-Soluci%C3%B3n-de-problemas-de-errores-PEAR">Solución de errores PEAR</a></li>
</ul>
</div>
<h2>Ejemplo de un script de correo SMTP PHP</h2>
<div class="solvvy-solution">
<p>Visita el siguiente artículo para ver un ejemplo de cómo enviar correo PHP a través de SMTP</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216140597--Como-env%C3%ADo-correo-PHP-v%C3%ADa-SMTP-">¿Cómo envío un correo PHP por medio de SMTP?</a></li>
</ul>
</div>
<h2><span id="See_also">Ver también</span></h2>
<div class="solvvy-hidden">
<h3>Vínculos internos</h3>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/214202188-Generalidades-PHP">Generalidades PHP</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/214200688-Generalidades-de-php-ini">Generalidades php.ini</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH">Generalidades SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/214395118-Soluci%C3%B3n-de-problemas-de-errores-PEAR">Solución de errores PEAR</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/115006413028-Crear-y-editar-un-archivo-via-SSH">Creando y editando un archivo vía SSH</a></li>
</ul>
<h3>Enlaces Externos</h3>
<ul>
<li><a href="http://pear.php.net/">Sitio oficial PEAR</a></li>
<li><a href="http://pear.php.net/manual/en/installation.checking.php">Revisando si PEAR funciona (y tips para arreglar problemas comunes)</a></li>
</ul>
</div>
</div>
