<h2>Cómo cifrar sus datos</h2>
<div class="solvvy-solution">
<p>S3cmd puede cifrar tus datos mientras los carga en DreamObjects. Para utilizar esta funcionalidad, primero debes configurar tu archivo .s3cfg como se muestra en este artículo:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/215916627-Instalar-S3cmd" target="_self" rel="undefined">Instalar S3cmd</a></li>
</ul>
<h3>Configurar tu .s3cfg file</h3>
<p>Abre el archivo:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">nano ~/.s3cfg</span></pre>
</div>
<p>Agrega las siguientes líneas para que pueda usar el cifrado. Asegúrate de crear tu propia contraseña para 'gpg_passphrase':</p>
<div class="preboxcontainer">
<pre class="prebox">check_ssl_certificate = True
check_ssl_hostname = True
gpg_command = /usr/bin/gpg
gpg_decrypt = %(gpg_command)s -d --verbose --no-use-agent --batch --yes --passphrase-fd %(passphrase_fd)s -o %(output_file)s %(input_file)s
gpg_encrypt = %(gpg_command)s -c --verbose --no-use-agent --batch --yes --passphrase-fd %(passphrase_fd)s -o %(output_file)s %(input_file)s
gpg_passphrase = <span class="code-highlight">yourpassword</span></pre>
</div>
<p>Tu configuración ahora está configurada para encriptar datos.</p>
<h3>Cifrar datos mientras se cargan</h3>
<p>Para cifrar tus datos durante la carga, usa la marca -e. En el siguiente ejemplo, 'bucket-name' es el nombre del depósito al que está cargando contenido. textfile.txt es el nombre del único archivo que está cargando:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command"> s3cmd -e put testfile.txt s3://bucket-name</span>

upload: '/tmp/tmpfile-zFGwbLHMVEINdHh3615n' -&gt; 's3://bucket-name/testfile.txt'  [1 of 1]
 63 of 63   100% in    0s   129.96 B/s  done</pre>
</div>
<p>Para confirmar que está encriptado, navega a la página <a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=cloud.objects&amp;" target="_blank" rel="noopener">DreamObjects</a>. Haz clic en el botón 'Ver objetos' debajo de tu nombre de usuario. Se abre un mensaje para que puedas ver los objetos en su depósito.</p>
<p><img src="https://kbimages.dreamhosters.com/images/2018-06_panel_dho-viewing-object.png" /></p>
<p>Haz clic en el objeto, copie la URL y luego pégalo en un navegador.</p>
<p><img class="img-border" src="https://kbimages.dreamhosters.com/images/2018-06_dho-viewing-encrypted-object.png" /></p>
<p>Verás que los datos del archivo están cifrados.</p>
<h3>Descifrar un archivo</h3>
<p>Cuando usa s3cmd para descargar un archivo cifrado, se descifra automáticamente:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd get s3://bucket-name/encrypted-file.txt</span>
download: 's3://bucket-name/encrypted-file.txt' -&gt; './encrypted-file.txt'  [1 of 1]
 70 of 70   100% in    0s   323.19 B/s  done</pre>
</div>
<p>Si lees el contenido del archivo, verás que ya no está encriptado:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cat encrypted-file.txt</span>
Testing a file</pre>
</div>
</div>
<h2>Firmar una URL de S3 para proporcionar acceso público limitado</h2>
<div class="solvvy-solution">
<p>Puedes establecer manualmente una fecha de vencimiento para acceder a un archivo. Para hacer esto, primero debes convertir la fecha en una marca de tiempo de Unix Epoch.</p>
<ol>
<li>Decide la fecha en la que deseas permitir que se firme/acceda a la URL hasta.</li>
<li>Visita <a href="https://www.epochconverter.com/">Epoch Converter</a> para convertir tu fecha en una marca de tiempo de la época. Se verá como una cadena de números. Por ejemplo: 1540232086</li>
<li>Ejecuta el siguiente comando para firmar la URL hasta esta marca de tiempo. (Asegúrate de cambiar el nombre del depósito y el nombre del archivo por tu información real).<br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd signurl s3://my_bucket/my_file.png 1540232086</span>
http://my-bucket.objects-us-east-1.dream.io/my_file.png?AWSAccessKeyId=DHDPTCQ3WFGHPSS5FAXG&amp;Expires=1540232086&amp;Signature=9nf8f9kG%2FqDa76rmET4R%2FpbtaGM%3D</pre>
</div>
</li>
<li>Esto genera la URL firmada. Ahora puede compartir esta URL para que cualquiera pueda acceder a ese archivo hasta la fecha que haya especificado.</li>
</ol>
<p>También puedes firmarlo por 1 semana usando este formato:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">s3cmd signurl s3://my_bucket/my_file.png $(echo "`date +%s` + 3600 * 24 * 7" | bc)</span></pre>
</div>
<div class="footer">&nbsp;</div>
</div>
