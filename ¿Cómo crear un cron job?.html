<h2>Generalidades</h2>
<div class="solvvy-solution">
<p>Puedes hacer que DreamHost configure automáticamente un cron job desde el panel, en la página&nbsp;<a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=advanced.cron&amp;" target="_blank" rel="noopener">Cron Jobs</a>.&nbsp;Este artículo contiene los siguientes contenidos.</p>
<ul>
<li><a href="#panel" target="_self">Crear un trabajo cron en el panel</a></li>
<li><a href="#variables" target="_self">Ejecutar un trabajo cron desde una URL con variables</a></li>
<li><a href="#rutas-a-programas-comunes" target="_self">Rutas a programas comunes</a></li>
</ul>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>Al crear el cron job, debes asignarlo a un&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/216385837-C%C3%B3mo-crear-un-usuario-con-acceso-Shell-SSH-" target="_self">usuario shell</a>&nbsp;en tu panel. Solo los usuarios de shell pueden ejecutar cron job.</p>
<p>Los Cron job se pueden crear en cualquier plan de alojamiento.</p>
</div>
</div>
</div>
<h2><span id="panel">Crear un cron job en el panel</span></h2>
<div class="solvvy-solution">
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>Este ejemplo ejecuta un solo archivo llamado <span class="text-object">script.php</span>.</p>
</div>
</div>
<ol>
<li>Navega a la página&nbsp;<a class="panel-link" href="https://panel.dreamhost.com/index.cgi?tree=advanced.cron&amp;" target="_blank" rel="noopener">Cron Jobs</a>.
<dl>
<dd><em>La página 'Cron Jobs' aparece:</em></dd>
</dl>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2018-09_panel_cron_add_01.png" /></dd>
</dl>
</li>
<li>Haz click en el botón <strong>Add New Cron</strong> Job.<br />
<dl>
<dd><em>Se abre la página 'Creating New Cron Job' :</em></dd>
</dl>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/2018-09_panel_cron_add_02.png" /></dd>
</dl>
</li>
<li>Para crear el cron, completa los siguientes campos:<br />
<ul>
<li><strong>Usuario</strong>: en el menú desplegable, elija un&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/216385837-C%C3%B3mo-crear-un-usuario-con-acceso-Shell-SSH-" target="_self">usuario shell</a>&nbsp;existente en el que desea que se ejecute el trabajo cron.</li>
<li><strong>Título</strong>: asigne al cron un nombre que recordará.</li>
<li><strong>Salida de correo electrónico a</strong>: ingresa una dirección de correo electrónico a la que te gustaría recibir la salida cron. También puedes dejar esto en blanco para no recibir correos electrónicos.</li>
<li><strong>Comando para ejecutar</strong>: ingrese el comando para ejecutar.<br />
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>El comando que ingresas generalmente debe primero especificar la ruta al programa que te gustaría usar para ejecutar el trabajo cron. Consulta las '<a href="#paths" target="_self">Rutas a programas comunes</a>'&nbsp;a continuación para ver ejemplos. Por ejemplo, supongamos que tiene un archivo PHP llamado <span class="text-object">script.php</span> en su directorio de dominios:</p>
<ul>
<li><span class="text-object">/home/usuario/example.com/script.php</span></li>
</ul>
<p>Para ejecutar este comando, debes incluir en ruta, la versión elegida de PHP seguida de un espacio, seguido de la ruta al archivo:</p>
<ul>
<li><span class="text-object">/usr/local/php74/bin/php/home/usuario/example.com/script.php</span></li>
</ul>
</div>
</div>
</li>
<li><strong>Usar bloqueo</strong>: habilítalo si deseas evitar que el trabajo se ejecute más de una vez al tiempo.</li>
<li><strong>Cuándo ejecutarlo</strong>: en el menú desplegable, elija con qué frecuencia desea que se ejecute este trabajo.<br />
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>El tiempo que elijas debe ser PDT / PST ya que esta es la zona horaria en la que está configurado tu servidor web. Para determinar la hora correcta, puedes iniciar sesión en tu servidor a través de&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH">SSH</a> y ejecutar la fecha del comando, o puedes consultar un&nbsp;<a href="https://www.worldtimezone.com/" target="_self">sitio web</a>&nbsp;que enumere esta información.</p>
<p><strong>Minutos personalizados</strong></p>
<p>Actualmente solo es posible agregar 12 minutos diferentes en una hora. Puedes organizarlos como desees, pero el cron no puede ejecutarse más de 12 veces en una sola hora.</p>
</div>
</div>
</li>
</ul>
</li>
</ol>
</div>
<h2>Los campos del 'Día de la Semana' y 'Día del Mes'</h2>
<div class="solvvy-solution">
<h3>Cuando el campo del 'Día de la Semana' anula el 'Día del Mes'</h3>
<p>El campo del <span class="text-object">'Día de la Semana'</span> anulará el campo del <span class="text-object">Day of Month</span> solo si el campo del <span class="text-object">Día del Mes</span> está configurado para <span class="text-object">Todos los Días</span>. Por ejemplo, la siguiente configuración solo correrá los Jueves.</p>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/cron-day-of-week_01.png" alt="crontab day of week" /></dd>
</dl>
</div>
<h3>Cuando el campo del 'Día de la Semana' NO anula el 'Día del Mes'</h3>
<p>El campo del <span class="text-object">Día de la Semana</span> <strong>NO</strong> anulará el campo del <span class="text-object">Día del Mes</span>, si el campo del <span class="text-object">Día del Mes</span> está configurado a día(s) específico(s). En ese caso correrán juntos.</p>
<p>En el ejemplo a continuación, el campo del <span class="text-object">Día de la Semana</span> está configurado para correr los Jueves a las 3:44 pm. El campo del <span class="text-object">Día del Mes</span> esta también ajustado para el 26 (que es un Miércoles). El Cron Job seguirá corriendo todos los Jueves, pero también el 26 de cada mes.</p>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/cron-day-of-week.png" alt="crontab day of week" /></dd>
</dl>
<h2><span id="variables">Ejecutar un trabajo cron desde una URL con variables</span></h2>
<div class="solvvy-solution">
<p>Es común que una URL personalizada en tu sitio use variables. Por ejemplo:</p>
<div class="preboxcontainer">
<pre class="prebox">https://example.com/script.php<span class="code-highlight">?firstname=john&amp;lastname=doe</span></pre>
</div>
<p>El problema es que las variables solo funcionan en un navegador web cuando se visita la URL. No funcionarán cuando se ejecute la URL en el servidor. Hay dos formas de hacer que un trabajo cron ejecute dicha URL.</p>
<h3>Usar curl o wget</h3>
<p>Cuando ejecutes <span class="code">curl</span> o <span class="code">wget</span> en una URL con variables, asegúate de encerrar la URL entre comillas simples.</p>
<div class="preboxcontainer">
<pre class="prebox">curl 'https://example.com/script.php?firstname=john&amp;lastname=doe'</pre>
</div>
<p>Así es como se vería en el panel.</p>
<p><img class="img-border" src="https://kbimages.dreamhosters.com/images/cron-variables-curl.png" alt="curl cron vars" /></p>
<h3>Usar php.cgi</h3>
<p>La otra opción es usar php.cgi en lugar de la ruta a PHP. Al crear la URL, debes cambiar el primer signo de pregunta ? por un espacio, y cada signo &amp; después de eso en un espacio también. Por ejemplo:</p>
<p><strong>Ruta al archivo original y URL</strong></p>
<div class="preboxcontainer">
<pre class="prebox">/home/username/example.com/script.php?firstname=john&amp;lastname=doe</pre>
</div>
<p><strong>Ruta editada al archivo y URL</strong></p>
<div class="preboxcontainer">
<pre class="prebox">/home/username/example.com/script.php firstname=john lastname=doe</pre>
</div>
<p>Finalmente, agrega la ruta al binario php.cgi.</p>
<div class="preboxcontainer">
<pre class="prebox">/dh/cgi-system/php74.cgi /home/username/example.com/script.php firstname=john lastname=doe</pre>
</div>
<p>Así es como se vería en el panel.</p>
<p><img class="img-border" src="https://kbimages.dreamhosters.com/images/cron-variables-php-cgi.png" alt="php.cgi cron var" /></p>
</div>
<h2><span id="rutas-a-programas-comunes">Rutas a programas comunes</span></h2>
<div class="solvvy-hidden">
<p>A continuación se muestran las rutas a los programas comunes en el servidor. Esta es la ruta que agregarías antes del archivo que deseas ejecutar.</p>
<table class="wikitable"><colgroup> <col width="38%" /> <col width="62%" /> </colgroup>
<tbody>
<tr>
<th bgcolor="#F2F2F2">Program</th>
<th bgcolor="#F2F2F2">Path</th>
</tr>
<tr>
<td>bash</td>
<td>/bin/bash</td>
</tr>
<tr>
<td>java</td>
<td>/usr/bin/java</td>
</tr>
<tr>
<td>perl</td>
<td>/usr/bin/perl</td>
</tr>
<tr>
<td>php</td>
<td>/usr/bin/php<br />/usr/local/php72/bin/php<br />/usr/local/php73/bin/php<br />/usr/local/php74/bin/php</td>
</tr>
<tr>
<td>python</td>
<td>/usr/bin/python<br />/usr/bin/python3</td>
</tr>
<tr>
<td>ruby</td>
<td>/usr/bin/ruby</td>
</tr>
</tbody>
</table>
</div>
<h2>Ver también</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH" target="_self">Generalidades sobre SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215088608-Generalidades-sobre-Crontab" target="_self">Generalidades crontab</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215767047-Crear-un-Cron-Job-personalizado" target="_self">Crear un Cron Job personalizado</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215767107-Entorno-de-ejecuci%C3%B3n-de-un-trabajo-cron" target="_self">Entorno de ejecución de un cron job</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/360038608892-Soluci%C3%B3n-de-problemas-de-Cron-job" target="_self">Solución de problemas de cron job</a></li>
</ul>
</div>
