<div id="advanced"> </div>
<div id="auto-toc"> </div>
<h2 id="h_01J51B3C42TS5P6Z3PJBW175QD">Generalidades</h2>
<p>La Interfaz de Línea de Comandos de WordPress (<a href="https://wp-cli.org/" target="_blank" rel="noopener noreferrer">wp-cli</a>) es una herramienta de línea de comandos instalada en todos los servidores de DreamHost. <span class="text-product">Te</span> permite ejecutar comandos de WordPress desde tu <a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH">terminal Shell</a> para gestionar tu sitio de WordPress sin necesidad de iniciar sesión en el panel de WordPress.</p>
<div class="prereqs">
<p><strong>Requisitos previos</strong></p>
<p>Este artículo asume que has <a href="https://help.dreamhost.com/hc/es/articles/216385837-Crear-un-usuario-con-acceso-Shell-SSH">creado un usuario de Shell</a> y que puedes iniciar sesión en tu servidor a través de <a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH">SSH</a>.</p>
<p>Después de iniciar sesión en tu servidor, asegúrate de estar en el <a href="https://help.dreamhost.com/hc/es/articles/360001219231--D%C3%B3nde-est%C3%A1-el-directorio-home#el-directorio-del-sitio-web" target="_self">directorio de tu sitio web</a>. Aquí es donde ejecutarás todos los comandos en este artículo.</p>
</div>
<h2 id="h_01J51B3C426SEQBFB21M900X06" class="header-section">Comandos generales</h2>
<p>Estos son algunos comandos generales para comenzar.</p>
<div id="comandos" class="section-link"> </div>
<h3 id="h_01J51B3C43RV2JGJ1B0WQQBBH6">Ver todos los comandos de wp-cli</h3>
<div class="solvvy-solution">
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp</span></pre>
</div>
<p>Aparece una lista de todos los comandos disponibles.</p>
</div>
<div id="help" class="section-link"> </div>
<h3 id="h_01J51B3C43WP6MT10NXCC166CZ">Usar --help para ver la información del comando</h3>
<div class="solvvy-solution">
<p>Para obtener más información sobre un comando específico, usa la opción <span class="code">--help</span>.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin --help</span></pre>
</div>
<p>Esto imprimirá una lista de subcomandos disponibles. Luego puedes agregar uno de estos subcomandos al comando principal para realizar una acción. Aquí se muestra cómo instalar un plugin llamado <span class="text-object">hello-dolly</span>:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install <span class="code-highlight">hello-dolly</span></span> </pre>
</div>
</div>
<div id="version" class="section-link"> </div>
<h3 id="h_01J51B3C43DC3921E4XQD2KX8G">Versión de wp cli</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>
<p>Revisa la versión de <span class="text-product">wp-cli</span></p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli version</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Revisa si hay actualizaciones</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli check-update</span></pre>
</div>
</td>
</tr>
<tr>
<td>Actualiza <span class="text-product">wp-cli</span>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli update</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h2 id="h_01J51B3C43WGHFZ4XA05PAHBN1" class="header-section">Comandos Top</h2>
<p>Estos comandos son los más utilizados comúnmente.</p>
<div id="plugins" class="section-link"> </div>
<h3 id="h_01J51B3C43A1VMANXW01W0S4AF">Plugins</h3>
<div class="solvvy-solution">
<div class="notebox-important">
<p><strong>Obtener el nombre correcto del plugin</strong></p>
<p>El nombre que uses al ingresar el <span class="code">PLUGIN_NAME</span> debe ser el nombre exacto de la página web del plugin. Por ejemplo, si quisieras instalar <span class="text-object">W3 Total Cache</span>, visitarías esta página:</p>
<ul>
<li><a href="https://es.wordpress.org/plugins/w3-total-cache/" target="_blank" rel="noopener noreferrer">https://es.wordpress.org/plugins/w3-total-cache/</a></li>
</ul>
<p>Puedes ver que termina con <span class="code">w3-total-cache</span>. Este es el nombre del plugin que deberías ingresar en los comandos a continuación.</p>
</div>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>
<p>Revisa los plugins instalados</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin list</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Instala un plugin</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin install <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>Activa un plugin</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin activate <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Desactiva un plugin</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin deactivate <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
<dl>
<dd><em>-o-</em></dd>
</dl>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp plugin toggle <span class="code-highlight">PLUGIN_NAME</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="temas" class="section-link"> </div>
<h3 id="h_01J51B3C435VJQTTGKJEGE48MD">Temas</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>
<p>Revisa los temas instalados</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme list</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Instala un tema</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme install <span class="code-highlight">THEME_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Activa un tema diferente</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme activate <span class="code-highlight">THEME_NAME</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Actualiza un tema</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp theme update <span class="code-highlight">THEME_NAME</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="Actualizar_WordPress" class="section-link"> </div>
<h3 id="h_01J51B3C43B9A26CENDXES48HA">Actualizar WordPress</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Revisa la versión de WordPress actual</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core version</span></pre>
</div>
</td>
</tr>
<tr>
<td>Revisa si hay actualizaciones de versión de WordPress</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core check-update</span></pre>
</div>
</td>
</tr>
<tr>
<td>Actualiza WordPress a una nueva versión</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Fuerza la descarga de todos los archivos principales.</p>
<p>Esto vuelve a descargar los archivos principales de WordPress y sobrescribe cualquier archivo principal que ya exista.</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core download --force</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="usuarios" class="section-link"> </div>
<div class="solvvy-solution">
<h3 id="h_01J51B3C43DQ4JX91RF2A79GQ0">Crear usuarios</h3>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Revisa la lista de todos los usuarios actuales</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user list</span></pre>
</div>
</td>
</tr>
<tr>
<td>
<p>Crea un nuevo usuario mientras asignas su correo y <a href="https://wordpress.org/support/article/roles-and-capabilities/" target="_blank" rel="noopener noreferrer">rol</a>. Se imprimirá una nueva contraseña en la terminal después de que el usuario sea creado.</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user create <span class="code-highlight">newusername admin@example.com</span> --role=<span class="code-highlight">administrator</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="Cambiar_una_contraseña" class="section-link"> </div>
<h3 id="h_01J51B3C45S5WWWZ73CW92K058">Cambiar una contraseña</h3>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Corre <span class="code">wp user list</span><span class="code">3</span>. Luego, deberás informar al usuario sobre el cambio de contraseña.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user update <span class="code-highlight">3</span> --user_pass=<span class="code-highlight">NEW_PASSWORD</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
<h3 id="h_01J51B3C45T8GBTKE8R1E7W5V5">Eliminar un usuario</h3>
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Corre <span class="code">wp user list</span>` para obtener el número de ID del usuario que deseas eliminar y del usuario al que deseas reasignar sus publicaciones. Deberás reasignar las publicaciones a otro usuario para que no se eliminen permanentemente. Este ejemplo elimina a un usuario con un ID# de <span class="code">13</span> y reasigna sus publicaciones al usuario <span class="code">7</span>.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp user delete <span class="code-highlight">13</span> --reassign=<span class="code-highlight">7</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
<p> </p>
<h2 id="h_01J51B3C45VM1E2RMKYGTKXVG4" class="header-section">Comandos de solución de problemas</h2>
<div id="cache" class="section-link"> </div>
<h3 id="h_01J51B3C45VFR4TEYJ4RADKHYD">Caché</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td style="width: 40%;">Limpiar el caché del sitio</td>
<td style="width: 60%;">
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cache flush</span></pre>
</div>
</td>
</tr>
<tr>
<td style="width: 40%;">Limpia el caché de <span class="text-product">wp-cli</span>
</td>
<td style="width: 60%;">
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli cache clear</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="Bases_de_datos" class="section-link"> </div>
<h3 id="h_01J51B3C45D5W8HYS7E5BZMAE3">Bases de datos</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>
<p>Revisa el estado de la base de datos</p>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db check</span></pre>
</div>
</td>
</tr>
<tr>
<td>Optimiza la base de datos</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db optimize</span></pre>
</div>
</td>
</tr>
<tr>
<td>Repara la base de datos</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db repair</span></pre>
</div>
</td>
</tr>
<tr>
<td>Busca texto en la base de datos.<br>Esto busca la palabra <span class="text-object">hello.</span>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp db search <span class="code-highlight">hello</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>Actualiza la versión de la base de datos</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp core update-db</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="permalinks" class="section-link"> </div>
<h3 id="h_01J51B3C45EJPJ9YD2299199CK">Permalinks</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Limpia los permalinks. Esto es lo mismo que volver a guardarlas en el panel de control.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command"> wp rewrite flush</span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<h2 id="h_01J51B3C46SG6A6TJ3V0H4Y6CH" class="header-section">Cambios personalizados</h2>
<div id="home-siteurl" class="section-link"> </div>
<h3 id="h_01J51B3C46ST66TF4J3SYX7WA5">Actualizar el home y siteurl</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Revisa el home y siteurl</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command"> wp option list | grep -E "^(siteurl|home)"</span></pre>
</div>
</td>
</tr>
<tr>
<td>Actualiza la URL del <span class="text-object">home</span>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update home <span class="code-highlight">https://example.com</span></span></pre>
</div>
</td>
</tr>
<tr>
<td>Actualiza el <span class="text-object">siteurl</span>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp option update siteurl <span class="code-highlight">https://example.com</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="wxr" class="section-link"> </div>
<h3 id="h_01J51B3C46DR7G7SNS7M0CTBPC">Importar y exportar un archivo WXR</h3>
<div class="solvvy-solution">
<p>Puedes usar los comandos <span class="code">import</span> y <span class="code">export</span> para gestionar los datos de tu sitio con un archivo <span class="text-object">WXR</span>. Revisa <a href="https://help.dreamhost.com/hc/es/articles/360050852091-Importar-y-exportar-un-archivo-WXR-en-WordPress">este artículo</a> para más detalles.</p>
</div>
<div id="buscar_y_reemplazar" class="section-link"> </div>
<h3 id="h_01J51B3C46E4X7SDHRBH53CT6T">Buscar y reemplazar</h3>
<div class="solvvy-solution">
<p>Busca y reemplaza texto en tu base de datos. Asegúrate de usar la opción <span class="code">--dry-run</span> la primera vez para ver qué cambios se realizarán.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp search-replace <span class="code-highlight">http://example.com https://example.com/blog</span> --dry-run</span></pre>
</div>
<p>Una lista de campos que serán actualizados se mostrará en tu terminal. Si deseas actualizar todos los resultados mostrados, ejecuta el comando nuevamente sin la opción <span class="code">--dry-run</span>.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp search-replace <span class="code-highlight">http://example.com https://example.com/blog</span></span></pre>
</div>
</div>
<div id="wpconfig" class="section-link"> </div>
<h3 id="h_01J51B3C46VARZDNXF6KQ1RS7X">wp-config.php</h3>
<div class="solvvy-solution">
<table style="border-collapse: collapse; width: 100%;" border="1">
<tbody>
<tr>
<th style="width: 40%;">Acción</th>
<th style="width: 60%;">Comando</th>
</tr>
<tr>
<td>Revisa todas las configuraciones del archivo <span class="text-object">wp-config.php</span>
</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp config list</span></pre>
</div>
</td>
</tr>
<tr>
<td>Actualiza una configuración en tu archivo <span class="text-object">wp-config.php</span>. Esto actualiza el valor de `<span class="code">DB_HOST</span>`.</td>
<td>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp config set <span class="code-highlight">DB_HOST mysql.example.com</span></span></pre>
</div>
</td>
</tr>
</tbody>
</table>
</div>
<div id="Actualizar_la_version_de_php" class="section-link"> </div>
<h3 id="h_01J51B3C46J6QFJ4XMSD1MPC0Q">Actualizar la versión de PHP que usa</h3>
<div class="solvvy-solution">
<ol>
<li>Para ver la versión actual de PHP y su ubicación, corre el siguiente comando:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli info</span></pre>
</div>
</li>
<li>Para cambiar la versión de PHP que utiliza <span class="text-product">wp-cli</span>, <a href="https://help.dreamhost.com/hc/es/articles/115006413028-Crear-y-editar-un-archivo-v%C3%ADa-SSH" target="_self">agrega la siguiente línea</a> a tu archivo <span class="text-object">.bash_profile</span>. Cambia la versión según sea necesario. Este ejemplo usa PHP 8.2.
<div class="preboxcontainer">
<pre class="prebox">export WP_CLI_PHP=/usr/local/php82/bin/php wp</pre>
</div>
</li>
<li>Actualiza el <span class="text-object">.bash_profile</span>:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>Revisa para confirmar que <span class="text-product">wp-cli</span> está usando esta nueva versión.
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">wp cli info</span>
PHP binary:     /usr/local/php82/bin/php
PHP version:    8.2
</pre>
</div>
</li>
</ol>
</div>
<h2 id="h_01J51B3C46VDBRJXAEP4VPDMJ8">Ver también</h2>
<div class="solvvy-hidden">
<ul>
<li>
<a href="https://wp-cli.org/" target="_blank" rel="noopener noreferrer">wp-cli.org</a> – Official WP CLI website</li>
<li><a href="https://developer.wordpress.org/cli/commands/" target="_blank" rel="noopener noreferrer">wp-cli commands</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/360001310966-C%C3%B3mo-iniciar-sesi%C3%B3n-en-tu-sitio-WordPress">Cómo iniciar sesión en tu sitio WordPress</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215525287-Visi%C3%B3n-general-de-WordPress">Visión general de WordPress</a></li>
</ul>
</div>
