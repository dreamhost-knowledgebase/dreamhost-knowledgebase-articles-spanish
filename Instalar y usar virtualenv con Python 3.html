<h2>Generalidades</h2>
<div class="solvvy-solution">
<p><a href="https://pypi.python.org/pypi/virtualenv">Virtualenv</a> (ambiente virtual) es una herramienta usada para crear un ambiente Python aislado. Este ambiente tiene su propio directorio de instalación que no comparte librerías con otros ambientes virtualenv (y opcionalmente no accede las librerías globales instaladas tampoco).</p>
<p>Virtualenv es la manera más fácil recomendada para configurar un ambiente personalizado Python.</p>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Para correr los siguientes comandos, tú debes iniciar sesión en el servidor vía SSH con tu usuario Shell. Vé los siguientes artículos para más información.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Visi%C3%B3n-general-del-SSH" target="_self">Visión general de SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216385837-Habilitando-acceso-Shell" target="_self">Habilitar el acceso Shell</a></li>
</ul>
</div>
</div>
</div>
<h2>Instalar Virtualenv usando pip3</h2>
<div class="solvvy-solution">
<p>Virtualenv es instalado por defecto en todos los servidores DreamHost para las versiones de Python 2. Si estás trabajando con Python 3, debes instalar virtualenv usando pip3.</p>
<p>Estas instrucciones asumen que tu ya has instalado una&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">versión personalizada de Python 3</a>. Después de la instalación y si tu Shell está usando esta versión, corre pip3 para instalar virtualenv:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pip3 install virtualenv<br /></span><span class="cmdoutput">Collecting virtualenv
  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)
    100% |████████████████████████████████| 1.8MB 367kB/s
Installing collected packages: virtualenv
Successfully installed virtualenv-15.1.0</span></pre>
</div>
<p>Necesitarás el comando completo para el virtualenv de la versión de Python, corre entonces lo siguiente para verlo.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which virtualenv</span>
<span class="cmdoutput">/home/username/opt/python-3.6.2/bin/virtualenv</span></pre>
</div>
</div>
<h2>Crear un ambiente virtual usando una versión personalizada de Python</h2>
<div class="solvvy-solution">
<p>Cuando trabajas con un ambiente virtual en Python, es común usar una&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">versión personalizada de Python 3</a> en vez de la versión del servidor. Para crear un nuevo ambiente virtual usando tu versión personalizada instalada, sigue los siguientes pasos:</p>
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">
<p>Los siguientes pasos usando las versión 3.6.2 de Python. Asegúrate de usar la versión que tienes instalada.</p>
</div>
</div>
<ol>
<li>Toma nota del camino que toma el archivo para la versión personalizada de Python ya instalada. Si has seguido las instrucciones del&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">artículo de instalación</a>, el camino es:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which python3</span>
<span class="cmdoutput">/home/username/opt/python-3.6.2/bin/python</span></pre>
</div>
</li>
<li>Navega al directorio de tu sitio, donde crearás el nuevo ambiente virtual:<br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~/example.com</span></pre>
</div>
</li>
<li>Corre el siguiente comando para actualizar tu archivo .bash_profile:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>Crea un ambiente virtual mientras específicas la versión de Python que deseas usar. El siguiente comando crea un virtualenv llamado 'my_project' y usa una bandera -p para especificar el camino a la versión de Python 3 que acabas de instalar.<br />
<div class="alert alert-note">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-note-icon.svg" alt="" width="60" height="60" /></div>
<div class="alert-content">Puedes llamar el virtualenv como tu quieras.</div>
</div>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">virtualenv -p /home/example_username/opt/python-3.6.2/bin/python3 my_project</span>
<span class="cmdoutput">
Running virtualenv with interpreter /home/example_username/opt/python-3.6.2/bin/python3<br />Using base prefix '/home/example_username/opt/python-3.6.2'<br />New python executable in /home/example_username/example.com/env/bin/python3<br />Also creating executable in /home/example_username/example.com/env/bin/python<br />Installing setuptools, pip, wheel...done.</span></pre>
</div>
<ul>
<li>Este comando crea una copia local en tu ambiente específico para este sitio web. Mientras trabajas en tu sitio web, deberás activar el ambiente local para asegurarte que estás trabajando con la versión correcta de tus herramientas y paquetes.</li>
</ul>
</li>
<li>Para activar el nuevo ambiente virtual, corre lo siguiente:<br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">source my_project/bin/activate</span></pre>
</div>
<em>El nombre del actual ambiente virtual aparece a la izquierda del intento. Por ejemplo:</em><br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">(my_project) [server]$ </span></pre>
</div>
</li>
<li>Para verificar la versión correcta de Python, correo lo siguiente:<br />
<pre class="prebox"><span class="server">[server]$ </span><span class="command">python -V</span>
<span class="cmdoutput">Python 3.6.2</span></pre>
</li>
</ol>
<p>Cualquier paquete que instalas usando pip está ahora ubicado en la carpeta de proyectos de ambientes virtuales, aislado de la instalación global de Python.</p>
</div>
<h2>Desactivar tu virtualenv</h2>
<div class="solvvy-solution">
<p>Cuando finalices tu trabajo en tu ambiente virtual, puedes desactivarlo corriendo lo siguiente:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">deactivate</span></pre>
</div>
<ul>
<li>Esto te pone nuevamente en las configuraciones por defecto de tu usuario de Shell.</li>
</ul>
</div>
<h2>Eliminar tu ambiente virtual</h2>
<div class="solvvy-solution">
<p>Para eliminar tu ambiente virtual, simplemente elimina la carpeta del proyecto. Usando el ejemplo anterior, corre el siguiente comando:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">rm -rf my_project</span></pre>
</div>
</div>
<h2>Instalar módulos personalizados</h2>
<div class="solvvy-solution">
<p>Vé el siguiente artículo para ver información de como usar pip para instalar módulos de Python.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/115000699011-Usar-pip3-para-instalar-m%C3%B3dulos-de-Python3" target="_self">Usar pip para instalar módulos de Python 3</a></li>
</ul>
</div>
<h2>Solución de Problemas</h2>
<div class="solvvy-solution">
<h3>Errores creando un virtualenv</h3>
<p>Tu puedes ver los siguientes errores cuando trates de crear un virtualenv usando Python 3.7.</p>
<p><strong>AttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'</strong></p>
<p><strong>OSError: Command /home/username/venv/bin/python3 -c "import sys, pip; sys...d\"] + sys.argv[1:]))" setuptools pip failed with error code 1</strong></p>
<p>Agregar la siguientes líneas cuando&nbsp;<a href="https://help.dreamhost.com/hc/en-us/articles/360001435926-Installing-OpenSSL-locally-under-your-username" target="_self">instales una versión personalizada de OpenSSL</a> a tu .bash_profile para que resuelva eso.</p>
<div class="preboxcontainer">
<pre class="prebox">export LC_ALL="en_US.UTF-8"</pre>
</div>
</div>
<h2>Ver también</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="/hc/en-us/articles/216137717-Python-overview" target="_self">Visión general de Python</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Visi%C3%B3n-general-del-SSH" target="_self">Visión general de SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215317948-C%C3%B3mo-instalar-Django-usando-virtualenv" target="_self">Cómo instalar Django usando virtualenv</a></li>
<li><a href="/hc/en-us/articles/216128557-Guidelines-for-setting-up-a-Python-file-at-DreamHost" target="_self">Guías para configurar un archivo Python en DreamHost</a></li>
<li><a href="/hc/en-us/articles/215489188-How-to-install-a-newer-version-of-SWIG" target="_self">Cómo instalar una versión nueva de SWIG</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">Instalar una versión personalizada de Python 3</a></li>
<li><a href="/hc/en-us/articles/216137637-Pyenv-simple-Python-version-management" target="_self">Manejo simple de una versión Python</a></li>
<li><a href="/hc/en-us/articles/215503458-Python-setuptools" target="_self">Herramientas de configuración de Python </a></li>
</ul>
</div>
