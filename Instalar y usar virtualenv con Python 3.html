<h2>Generalidades</h2>
<div class="solvvy-solution">
<p><a href="https://pypi.org/project/virtualenv/" target="_self" rel="undefined">Virtualenv</a> es una herramienta usada para crear un entorno Python aislado. Este entorno tiene sus propios directorios de instalación que no comparten bibliotecas con otros entornos virtualenv o las bibliotecas instaladas globalmente en el servidor.</p>
<p>Virtualenv es la manera más fácil recomendada para configurar un ambiente personalizado Python.</p>
<div class="notebox-note">
<p>Para correr los siguientes comandos, debes iniciar sesión en el servidor vía SSH con tu usuario Shell. Revisa los siguientes artículos para más información.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH" target="_self">Generalidades de SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216385837-C%C3%B3mo-crear-un-usuario-con-acceso-Shell-SSH-" target="_self">Cómo crear un usuario con acceso Shell (SSH)</a></li>
</ul>
</div>
</div>
<h2 class="subheader">Diferencia entre virtualenv y venv</h2>
<div class="solvvy-solution">
<p><a href="https://docs.python.org/3/library/venv.html" target="_self">venv</a>&nbsp;es un paquete que viene con Python 3. Python 2 no contiene venv.</p>
<p><a href="https://virtualenv.pypa.io/en/stable/" target="_self">virtualenv</a> es una biblioteca que ofrece más funcionalidades que venv. Mira el siguiente enlace para obtener una lista de características que venv no ofrece en comparación con virtualenv.</p>
<ul>
<li><a href="https://virtualenv.pypa.io/en/stable/">https://virtualenv.pypa.io/en/stable/</a></li>
</ul>
<p>Aunque puedes crear un entorno virtual usando venv con Python3, se recomienda que instales y use virtualenv en su lugar.</p>
</div>
<h2>Instalar Virtualenv usando pip3</h2>
<div class="solvvy-solution">
<p>Virtualenv es instalado por defecto en todos los servidores DreamHost para las versiones de Python 2. Si estás trabajando con Python 3, debes instalar virtualenv usando <span class="code">pip3</span>.</p>
<p>Quizá quieras actualizar primero a <span class="code">pip3</span>.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">python3 -m pip install --upgrade pip</span></pre>
</div>
<p>Estas instrucciones asumen que tu ya has instalado una&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">versión personalizada de Python 3</a>. Después de la instalación y si tu Shell está usando esta versión, corre <span class="code">pip3</span> para instalar virtualenv:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">pip3 install virtualenv<br /></span><span class="cmdoutput">Collecting virtualenv
  Downloading virtualenv-15.1.0-py2.py3-none-any.whl (1.8MB)
    100% |████████████████████████████████| 1.8MB 367kB/s
Installing collected packages: virtualenv
Successfully installed virtualenv-15.1.0</span></pre>
</div>
<p>Necesitarás el comando completo para el virtualenv de la versión de Python, corre entonces lo siguiente para verlo.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which virtualenv</span>
<span class="cmdoutput">/home/username/opt/python-3.6.2/bin/virtualenv</span></pre>
</div>
</div>
<h2>Crear un ambiente virtual usando una versión personalizada de Python</h2>
<div class="solvvy-solution">
<p>Cuando trabajas con un ambiente virtual en Python, es común usar una&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">versión personalizada de Python 3</a> en vez de la versión del servidor. Para crear un nuevo ambiente virtual usando tu versión personalizada instalada, sigue los siguientes pasos:</p>
<div class="notebox-note">
<p>Los siguientes pasos usando las versión 3.6.2 de Python. Asegúrate de usar la versión que tienes instalada.</p>
</div>
<ol>
<li>Toma nota del camino que toma el archivo para la versión personalizada de Python ya instalada. Si has seguido las instrucciones del&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">artículo de instalación</a>, el camino es:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which python3</span>
<span class="cmdoutput">/home/username/opt/python-3.6.2/bin/python</span></pre>
</div>
</li>
<li>Navega al <a href="https://help.dreamhost.com/hc/es/articles/360001219231--D%C3%B3nde-est%C3%A1-el-directorio-home-#el-directorio-de-sitio-web" target="_self">directorio de tu sitio</a>, donde crearás el nuevo ambiente virtual:<br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">cd ~/example.com</span></pre>
</div>
</li>
<li>Corre el siguiente comando para actualizar tu archivo <span class="text-object">.bash_profile</span>:
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">. ~/.bash_profile</span></pre>
</div>
</li>
<li>Crea un ambiente virtual mientras específicas la versión de Python que deseas usar. El siguiente comando crea un virtualenv llamado 'venv' y usa una bandera <span class="code">-p</span> para especificar el camino a la versión de Python 3 que acabas de instalar.<br />
<div class="notebox-note">
<p>Puedes llamar el virtualenv como tu quieras.</p>
</div>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">virtualenv -p /home/username/opt/python-3.6.2/bin/python3 venv</span>
<span class="cmdoutput">
Running virtualenv with interpreter /home/username/opt/python-3.6.2/bin/python3<br />Using base prefix '/home/username/opt/python-3.6.2'<br />New python executable in /home/username/example.com/env/bin/python3<br />Also creating executable in /home/username/example.com/env/bin/python<br />Installing setuptools, pip, wheel...done.</span></pre>
</div>
<ul>
<li>Este comando crea una copia local en tu ambiente específico para este sitio web. Mientras trabajas en tu sitio web, deberás activar el ambiente local para asegurarte que estás trabajando con la versión correcta de tus herramientas y paquetes.</li>
</ul>
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>Es posible que veas el siguiente error al instalar.</p>
<div class="preboxcontainer">
<pre class="prebox">setuptools pip failed with error code 1` error</pre>
</div>
<p>Si es así, corre lo siguiente:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[user@localhost]$ </span><span class="command">pip3 install --upgrade setuptools</span></pre>
</div>
<p>Intenta nuevamente y deberías poder instalar sin un error.</p>
</div>
</div>
</li>
<li>Para activar el nuevo ambiente virtual, corre lo siguiente:<br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">source venv/bin/activate</span></pre>
</div>
<em>El nombre del actual ambiente virtual aparece a la izquierda del intento. Por ejemplo:</em><br />
<div class="preboxcontainer">
<pre class="prebox"><span class="server">(venv) [server]$ </span></pre>
</div>
</li>
<li>Para verificar la versión correcta de Python, corre lo siguiente:<br />
<pre class="prebox"><span class="server">[server]$ </span><span class="command">python -V</span>
<span class="cmdoutput">Python 3.6.2</span></pre>
</li>
</ol>
<p>Cualquier paquete que instalas usando <span class="code">pip</span> está ahora ubicado en la carpeta de proyectos de ambientes virtuales, aislado de la instalación global de Python.</p>
</div>
<h2>Desactivar tu virtualenv</h2>
<div class="solvvy-solution">
<p>Cuando finalices tu trabajo en tu ambiente virtual, puedes desactivarlo corriendo lo siguiente:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">deactivate</span></pre>
</div>
<ul>
<li>Esto te pone nuevamente en las configuraciones por defecto de tu usuario de Shell.</li>
</ul>
</div>
<h2>Eliminar tu ambiente virtual</h2>
<div class="solvvy-solution">
<p>Para eliminar tu ambiente virtual, simplemente elimina la carpeta del proyecto. Usando el ejemplo anterior, corre el siguiente comando:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">rm -rf venv</span></pre>
</div>
</div>
<h2>Instalar módulos personalizados</h2>
<div class="solvvy-solution">
<p>Revisa el siguiente artículo para ver información de como usar <span class="code">pip</span> para instalar módulos de Python.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/115000699011-Usar-pip3-para-instalar-m%C3%B3dulos-de-Python3" target="_self">Usar pip para instalar módulos de Python 3</a></li>
</ul>
</div>
<h2>Solución de Problemas</h2>
<div class="solvvy-solution">
<h3>Errores creando un virtualenv</h3>
<p>Puedes ver los siguientes errores cuando trates de crear un virtualenv usando Python 3.7.</p>
<p><strong>AttributeError: module 'importlib._bootstrap' has no attribute 'SourceFileLoader'</strong></p>
<p><strong>OSError: Command /home/username/venv/bin/python3 -c "import sys, pip; sys...d\"] + sys.argv[1:]))" setuptools pip failed with error code 1</strong></p>
<p>Agregar la siguientes líneas cuando&nbsp;<a href="https://help.dreamhost.com/hc/es/articles/360001435926-Instalar-OpenSSL-localmente-dentro-de-tu-usuario" target="_self">instales una versión personalizada de OpenSSL</a> a tu <span class="text-object">.bash_profile</span> para que resuelva eso.</p>
<div class="preboxcontainer">
<pre class="prebox">export LC_ALL="en_US.UTF-8"</pre>
</div>
<h3>Utiliza la ruta completa a tu virtualenv personalizado</h3>
<p>También es posible que cuando ejecutes el comando virtualenv, esté usando una versión fuera de tu instalación personalizada. Intenta correr esto en su lugar para confirmar la ruta completa a tu virtualenv de Python3.</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">which virtualenv</span>    
/home/username/opt/python-3.8.0/bin/virtualenv</pre>
</div>
<p>Esto debería responder con la versión en tu directorio personalizado de Python3. Luego puedes crear un virtualenv usando la ruta completa como esta:</p>
<div class="preboxcontainer">
<pre class="prebox"><span class="server">[server]$ </span><span class="command">/home/<span class="code-highlight">username</span>/opt/python-3.8.0/bin/virtualenv -p /home/<span class="code-highlight">username</span>/opt/python-3.8.0/bin/python3 venv</span></pre>
</div>
</div>
<h2>Ver también</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/216137717-Generalidades-sobre-Python" target="_self">Generalidades de Python</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216041267-Generalidades-de-SSH" target="_self">Generalidades de SSH</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215317948-C%C3%B3mo-instalar-Django-usando-virtualenv" target="_self">Cómo instalar Django usando virtualenv</a></li>
<li><a href="/hc/es/articles/216128557-Pautas-para-configurar-un-archivo-Python-en-DreamHost" target="_self">Pautas para configurar un archivo Python en DreamHost</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/215489188-C%C3%B3mo-instalar-una-versi%C3%B3n-m%C3%A1s-reciente-de-SWIG" target="_self">Cómo instalar una versión nueva de SWIG</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/115000702772-Instalar-una-versi%C3%B3n-personalizada-de-Python-3" target="_self">Instalar una versión personalizada de Python 3</a></li>
<li><a href="https://help.dreamhost.com/hc/es/articles/216137637--Pyenv-administraci%C3%B3n-simple-de-versiones-de-Python" target="_self">Pyenv: administración simple de versiones de Python</a></li>
<li><a href="/hc/es/articles/215503458-Python-setuptools" target="_self">Herramientas de configuración de Python </a></li>
</ul>
</div>
