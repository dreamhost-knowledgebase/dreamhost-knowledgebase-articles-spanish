<h2>Generalidades</h2>
<div class="solvvy-solution">
<p>Este artículo explica cómo habilitar OAuth2 en tu panel de Google para autenticar tu plugin 'WP Mail SMTP' de WordPress. Esto te permite enviar DESDE tu dirección de Google utilizando este plugin. Las credenciales creadas durante este proceso se pueden usar en cualquier plugin que las permita.</p>
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p>Cuando sigas estas instrucciones, asegúrate de haber iniciado sesión en tu sitio de WordPress y en Google con el mismo navegador.</p>
<p>Asegúrate de que solo hayas iniciado sesión en una única cuenta de Google.</p>
</div>
</div>
</div>
<h2>Configura el plugin de SMTP en WordPress</h2>
<div class="solvvy-solution">
<p>Primero, ve el siguiente artículo para obtener instrucciones sobre cómo configurar el plugin SMTP de WordPress para tu dirección de Gmail:</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/360029770912-Configuraci%C3%B3n-del-plugin-WP-Mail-SMTP-con-Gmail" target="_self">Configurar el plugin 'WP Mail SMTP' con Gmail</a></li>
</ul>
<p>Una vez configurado, aún no puedes enviar. Ahora debes permitir que Google envíe correos electrónicos desde tu sitio de WordPress. Puedes hacerlo iniciando sesión en tu cuenta de Google. Tienes dos opciones.</p>
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/115001719551-Soluci%C3%B3n-de-problemas-de-errores-de-autenticaci%C3%B3n-SMTP-de-GMAIL" target="_self">Permitir 'Aplicaciones menos seguras' en Gmail</a></li>
<li><a href="#setting-up-oauth2" target="_self">Habilitar autenticación OAuth2 (más seguro)</a></li>
</ul>
<p>Si no deseas utilizar la opción 'Aplicaciones menos seguras', continúa con los pasos a continuación para habilitar la autenticación OAuth2.</p>
</div>
<h2>Configurar OAuth2 en tu cuenta de Google</h2>
<div class="solvvy-solution">
<p>Ahora que tu plugin de WordPress está configurado, debes permitir que Google envíe desde tu sitio. Puedes habilitar esto dentro de tu cuenta de Google.</p>
<ol>
<li>Inicia sesión en tu cuenta de Google</li>
<li>Visita el siguiente enlace en tu cuenta Google.
<ul>
<li><a href="https://console.developers.google.com/flows/enableapi?apiid=gmail&amp;credential=client_key&amp;pli=1" target="_blank" rel="noopener"> https://console.developers.google.com/flows/enableapi?apiid=gmail&amp;credential=client_key&amp;pli=1 </a></li>
</ul>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_01_2.png" /></dd>
</dl>
Si es la primera vez que habilitas el API, acepta los términos del servicio y haz clic en<br /> <strong>Agree and continue</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_01.png" /></dd>
</dl>
Si has habilitado esto en el pasado, elije 'Create a project' en el menú desplegable, luego haz clic en&nbsp;<strong>Continue</strong>.</li>
<li>La siguiente pantalla confirma que el API se ha habilitado.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_02.png" /></dd>
</dl>
</li>
<li>Haz clic en&nbsp;<strong>Go to credentials</strong>.<br />
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_03.png" /></dd>
</dl>
</li>
<li>En el primer menú desplegable, elije 'Gmail API'. En el siguiente, selecciona 'Web browser'. Haz clic en el botón de radio titulado 'User data'.</li>
<li>Haz clic en&nbsp;<strong>What credentials do I need?</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_04.png" /></dd>
</dl>
</li>
<li>Aparece una ventana emergente que te notifica que primero debes configurar una pantalla de consentimiento de OAuth. Haz clic en 'SET UP CONSENT SCREEN'.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_05_2.png" /></dd>
</dl>
</li>
<li>Bajo Application name, ingresa el nombre de tu aplicación.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_06.png" /></dd>
</dl>
</li>
<li>Ingresa tu URL de WordPress en 'Authorized domains'.</li>
<li>Presiona la tecla 'Enter' para guardar guardar el nombre de tu dominio.</li>
<li>Haz clic en&nbsp;<strong>Save</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_07.png" /></dd>
</dl>
</li>
<li>Aparece una ventana emergente. Haz clic en 'Create credentials'. En el menú desplegable, selecciona 'OAuth client ID'.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_08.png" /></dd>
</dl>
</li>
<li>Bajo 'Application type' selecciona 'Web application'.</li>
<li>Da un nombre a este ID de cliente.</li>
<li>En 'Authorized JavaScript origins', ingresa la URL completa de tu sitio y presiona la tecla 'Enter' para guardar.</li>
<li>Copia el 'Authorized redirect URI'&nbsp;de tu panel de WordPress. Esto se puede encontrar al <a href="https://help.dreamhost.com/hc/es/articles/360029770912-Configuraci%C3%B3n-del-plugin-WP-Mail-SMTP-con-Gmail" target="_self">configurar el plugin de SMTP</a>. Por ejemplo:
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_10.png" /></dd>
</dl>
</li>
<li>Haz clic en el botón&nbsp;<strong>Create</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_11.png" /></dd>
</dl>
</li>
<li>Aparece una ventana emergente con tu nuevo 'client ID' y 'client secret'.</li>
<li>Inicia sesión en tu panel de WordPress y abre tu plugin 'WP Mail SMTP'.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_12.png" /></dd>
</dl>
</li>
<li>Ingresa el 'Client ID' y 'Client Secret' en tu plugin de WordPress.</li>
<li>Haz clic en&nbsp;<strong>Save Settings</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_13.png" /></dd>
</dl>
</li>
<li>Haz clic en <strong>Allow plugin to send emails using your Google account</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_14.png" /></dd>
</dl>
</li>
<li>En la ventana emergente, elije la dirección de correo electrónico desde la que deseas enviar tu formulario de WordPress.
<div class="alert alert-important">
<div class="alert-icon"><img src="https://kbimages.dreamhosters.com/images/dh-kb-important-icon.svg" width="60" height="60" /></div>
<div class="alert-content">
<p><strong>IMPORTANTE</strong>: La dirección de correo electrónico que use en este momento para iniciar sesión será la dirección de correo electrónico desde la que envía tu formulario de WordPress. Esto anulará cualquier dirección de correo electrónico que hayas configurado en tu formulario SMTP de WordPress. Asegúrate de iniciar sesión en la cuenta de Google desde la que deseas enviar correos electrónicos.</p>
</div>
</div>
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_19.png" /></dd>
</dl>
Al principio verás un mensaje que te informa que la aplicación no está verificada. Google declara en su&nbsp;<a href="https://support.google.com/cloud/answer/7454865?hl=en" target="_self">documentacion de Unverified Apps/aplicaciones no verificadas</a> que esto no es necesario para los complementos de OAuth2 WordPress. Establece lo siguiente:
<dl>
<dd>
<ul>
<li><strong>Plugins basados en OAuth-based:</strong> Si estás configurando un plugin basado en OAuth para una plataforma popular, como SMTP para Wordpress, no necesitas pasar por el proceso de verificación.</li>
</ul>
</dd>
</dl>
</li>
<li>Haz clic en 'Advanced'.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_20.png" /></dd>
</dl>
</li>
<li>Haz clic en 'Go to example.com (unsafe)'.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_21.png" /></dd>
</dl>
</li>
<li>Haz clic&nbsp;<strong>Allow</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_22.png" /></dd>
</dl>
</li>
<li>Haz clic&nbsp;<strong>Allow</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_24.png" /></dd>
</dl>
</li>
<li>Aparece un mensaje en tu panel de WordPress confirmando que la aplicación ha sido vinculada a tu sitio.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_16.png" /></dd>
</dl>
</li>
<li>Haz clic en la pestaña 'Email Test', luego haz clic en&nbsp;<strong>Send Email</strong>.
<dl>
<dd><img class="img-border" src="https://kbimages.dreamhosters.com/images/google-oauth2_17.png" /></dd>
</dl>
</li>
<li>Deberías ver un mensaje de éxito. Revisa tu bandeja de entrada para confirmar que llegó el correo electrónico.</li>
</ol>
</div>
<h2>Ver también</h2>
<div class="solvvy-hidden">
<ul>
<li><a href="https://help.dreamhost.com/hc/es/articles/360029770912-Configuraci%C3%B3n-del-plugin-WP-Mail-SMTP-con-Gmail" target="_self">Configurar el plugin 'WP Mail SMTP' con Gmail</a></li>
</ul>
</div>
